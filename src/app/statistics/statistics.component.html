<div class="container">
    <section>
        <div class="percentage">
            <div class="element-header">El hueco tiene una probablidad de cierre del:</div>
            <div class="element-percentage">{{ percentage | percent: '1.0-2'}}</div>
        </div>
    </section>

    <section>
        <form [formGroup]="gapForm" (ngSubmit)="addGap()">
            <div class="form-fields">
                <div class="form-field">
                    <label for="gap">Se cierra el hueco:</label>
                    <input id="gap" type="radio" value="Si" formControlName="gapClose">Si
                    <input id="gap" type="radio" value="No" formControlName="gapClose">No
                </div>
                <div class="form-field">
                    <label for="date">Fecha: </label>
                    <input class="date" id="date" type="date" formControlName="dateSelected">
                </div>
            </div>
            <div class="button-container">
                <button class="btn btn-success" type="submit" [disabled]="!gapForm.valid"
                    [disabled]="!isAuthenticated()">Guardar</button>
            </div>
            <div class="gap-error" *ngIf="gapError">{{gapError}}</div>
        </form>
    </section>

    <section>
        <div class="header-history">Historico</div>
        <table>
            <th>Fecha</th>
            <th>Cierre</th>
            <tr class="data-gap" [@gapAnimation]="animationList" *ngFor="let gap of gapHistory; let i = index">
                <td>
                    {{gap.dateSelected | date: 'd MMM, y'}}
                </td>
                <td>
                    {{gap.gapClose}}
                </td>
                <td>
                    <button [disabled]="!isAuthenticated()" class="btn btn-secondary"
                        (click)="deleteGap(gap.id, i)">Eliminar</button>
                </td>
            </tr>
        </table>
    </section>

    <section>

        <div class="menu">
            <div *ngFor="let menu of menuDisplay; let i = index">
                <div *ngIf="page == i  ; else elementMenu">
                    <div (click)="onChangePage(i)" class="element-menu"> <u> {{menu}} </u> </div>
                </div>
                <ng-template #elementMenu>
                    <div (click)="onChangePage(i)" class="element-menu"> {{menu}} </div>
                </ng-template>
            </div>
        </div>
    </section>
</div>